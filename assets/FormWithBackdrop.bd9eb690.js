import{r as t,C as D,j as n,F as N,a as s,c as v}from"./index.5531fdde.js";function B({labelMessage:a,valueDefault:r,isNeccessary:i},c){const o=t.exports.useContext(D),[b,x]=t.exports.useState(!0),[p,f]=t.exports.useState([]),l=t.exports.useRef(null),[d,u]=t.exports.useState("no-display"),h=()=>{switch(d){case"no-display":u("animation-go-down");break;case"animation-go-down":u("animation-go-up");break;case"animation-go-up":u("animation-go-down");break}},m=e=>{l.current.innerText=e,l.current.name=e};let w=t.exports.useMemo(()=>n(N,{children:o.getCategories().map((e,y)=>{const C=p.includes(e.trim());return s("button",{type:"button",className:C?"btn-blocked":void 0,onClick:C?void 0:()=>m(e),children:[" ",e," "]},y)})}),[b,p]);t.exports.useImperativeHandle(c,()=>({getSelectValue(){return l.current.name},resetSelectValue(){m("")},setValue(e){o.getCategories().indexOf(e)!==-1&&m(e==="none"?"":e)},updateCategory(){x(e=>!e)},blockCategories(e){f([...e])}}),[]);const k=()=>{d==="animation-go-down"&&u("animation-go-up")},g=t.exports.useId();return s("div",{className:"field",children:[s("label",{htmlFor:g,className:"label-dropdown",children:[a,i?n("span",{style:{color:"red"},children:"*"}):""]}),s("div",{className:"btnWithDropDown",onBlur:()=>k(),children:[n("button",{type:"button",id:g,ref:l,name:r||v[0],className:`btn-category ${d==="animation-go-down"?"btn-category-active":""}`,onClick:h,children:r}),n("div",{className:`dropdown ${d}`,children:w})]})]})}const S=t.exports.forwardRef(B);function V(a){const r=t.exports.useRef(null),i=t.exports.useRef(null);function c(){var o;(o=i.current)==null||o.classList.add("anim-line-down"),setTimeout(()=>{a.closePanel()},600)}return n("div",{className:"backdrop",ref:r,onClick:c,children:s("div",{className:"form-grid",ref:i,children:[n("div",{className:` ${a.plusClass} form-container`,onClick:o=>o.stopPropagation(),children:a.children}),n("div",{className:"close-btn-x",onClick:c})]})})}export{S as D,V as F};
